One very short simple and important post to read, before entering this post is here. It explains the vagaries of Win Console, WIN32 and in particular C++ I/O streams library vs these issues.

Among other things you will not be wondering anymore should you or should you not, and when should you, use sync_with_stdio()
